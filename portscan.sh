#!/bin/bash


# Help
if [ "$1" == "-h" ] || [ "$1" == "--help" ] ; then
  echo "Usage: ./scanner.sh"
  exit
fi

# Version
if [ "$1" == "-v" ] || [ "$1" == "--version" ] ; then
  echo "Port Scanner 9000 v1.0"
  exit
fi

clear

# Take in Address and Ports
echo "Enter your domain: "
#read domain
domain="www.rit.edu"

echo "Enter a starting point between 0 and 1000: "
#read start_port
start_port=79

# Validate Ports
if [ $start_port -lt 0 ] || [ $start_port -gt 1000 ]; then
echo "Invalid starting point. Please enter a number between 0 and 1000."
fi 


echo "Enter an ending port between $start_port and 1000: "
#read end_port
end_port=81

if [ $end_port -lt $start_port ] || [ $end_port -gt 1000 ]; then
echo "Invalid ending port. Please enter a number between start and 1000."
fi 

# Scan ports
scan_text=$(sudo nmap -sS -p $start_port-$end_port $domain -oX - )
sleep 5

# nmap -sS -p 1-65535 localhost
# if error, inform user

# Handle scan_text

while IFS= read -r line; do
  echo $line
done <<< "$scan_text"


done
state="ma balls"
echo $state

reset="\033[0m"
green="\033[92m"
red="\033[91m"
yellow="\033[93m"
echo "$domain Port: $port:$state"

exit
